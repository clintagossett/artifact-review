# Convex Backend Environment Variables Example
# Copy this to .env.convex.local and fill in your values
# Sync to Convex using: ./scripts/setup-convex-env.sh --sync

# üö® Critical - Authentication & Security
# Use orchestrator DNS routing with your agent name
# NOTE: james.loc is a placeholder - agent-init.sh replaces it with your agent name
SITE_URL=https://james.loc
INTERNAL_API_KEY=your-random-secret-key-here

# üîê JWT Authentication (Required for @convex-dev/auth)
# These keys are set DIRECTLY in Convex, NOT in this file.
# They live in the Convex deployment and persist in the Docker volume.
#
# Initial setup (done by ./scripts/agent-init.sh):
#   ./scripts/setup-convex-env.sh
#
# Manual setup (if needed):
#   ./scripts/setup-convex-env.sh --regen
#
# Verify keys are set:
#   npx convex env get JWT_PRIVATE_KEY
#   npx convex env get JWKS
#
# DO NOT add JWT_PRIVATE_KEY or JWKS to this file.
# They are managed separately to prevent accidental overwrites.

# üìß Email Configuration (Resend)
# For local dev, use dummy key (emails go to Mailpit, not Resend)
# For hosted environments, replace with real Resend API key
RESEND_API_KEY=re_dummy_key_for_localhost
#
# Email sender addresses - choose based on environment:
#   Local dev / Staging: Use artifactreview-early.xyz (shared staging domain)
#   Production: Use your production domain (e.g., artifactreview.com)
#
# agent-init.sh sets these to staging domain by default.
# Override for production deployments.
EMAIL_FROM_AUTH="Artifact Review <auth@yourdomain.com>"
EMAIL_FROM_NOTIFICATIONS="Artifact Review <notify@yourdomain.com>"

# üîî Novu Notifications
# NOVU_SECRET_KEY is per-agent, set by ./scripts/setup-novu-org.sh
NOVU_SECRET_KEY=your-novu-secret-key
NOVU_API_URL=https://api.novu.loc
#
# NOVU_EMAIL_WEBHOOK_SECRET: HMAC secret for Novu Email Webhook
# - Auto-generated by agent-init.sh (no manual setup needed)
# - Must match the secret in Novu's Email Webhook integration
# - Setup webhook with: ./scripts/setup-novu-email-webhook.sh
# - Manual generation: openssl rand -hex 32
NOVU_EMAIL_WEBHOOK_SECRET=your-novu-email-webhook-secret

# ‚ÑπÔ∏è Optional - Development Settings
# SKIP_EMAILS=false
# LOG_LEVEL=debug

# üí≥ Stripe (add when needed)
# STRIPE_KEY=sk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_PRICE_ID_PRO=price_...
# STRIPE_PRICE_ID_PRO_ANNUAL=price_...
