# ⚠️  WARNING: Do not run `npx convex dev` directly!
# Always use: ./scripts/start-dev-servers.sh
# Running convex dev directly will add incorrect CONVEX_DEPLOYMENT lines.

# Convex Configuration (Self-Hosted)
# Copy this to `.env.local` and configure for your environment

# CONVEX_DEPLOYMENT is NOT used for self-hosted Convex. Do not uncomment.
# CONVEX_DEPLOYMENT=dev:your-deployment-name

# Self-Hosted Convex (Docker) - Server-side for CLI tools
# CONVEX_SELF_HOSTED_URL=http://127.0.0.1:3220

# Browser-side Convex URLs (use DNS names for orchestrator proxy routing)
# Sync/WebSocket - mirrors *.convex.cloud
# NEXT_PUBLIC_CONVEX_URL=https://{agent}.convex.cloud.loc
# HTTP actions/storage - mirrors *.convex.site
# NEXT_PUBLIC_CONVEX_HTTP_URL=https://{agent}.convex.site.loc

# Cloud Convex (hosted)
# NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud

# Resend Full Access API Key (for email retrieval in tests and development)
# Get from: https://resend.com/api-keys
# Create with "Full access" permission - needed for E2E tests to retrieve emails
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxx

# Resend Send-Only API Key (for Convex backend - sending magic link emails)
# Get from: https://resend.com/api-keys
# Create with "Sending access" permission - more secure for production
# This same key should be set in Convex: npx convex env set AUTH_RESEND_KEY re_xxx
# AUTH_RESEND_KEY=re_xxxxxxxxxxxxxxxxxx

# Porkbun API Configuration (for DNS management)
# Get from: https://porkbun.com/account/api
# PORKBUN_API_KEY=pk1_xxxxxxxxxxxxxxxxxx
# PORKBUN_SECRET_KEY=sk1_xxxxxxxxxxxxxxxxxx

# Test domain for email sending
# TEST_EMAIL_DOMAIN=artifactreview-early.xyz

# Email Notification Configuration
# Sender email for system notifications (invitations, alerts, etc.)
# Usage:
# - Always use the verified domain: artifactreview-early.xyz
#
# NOTIFICATION_FROM_EMAIL="Artifact Review Notification <hello@artifactreview-early.xyz>"
# AUTH_EMAIL_FROM="Artifact Review Login <login@artifactreview-early.xyz>"

# Novu Notification Configuration (Local Development)
# Run ./scripts/setup-novu-org.sh to auto-configure these
# Or get manually from: https://novu.loc → Settings → API Keys
# NOVU_SECRET_KEY=...
# NEXT_PUBLIC_NOVU_APPLICATION_IDENTIFIER=...
# NOVU_API_URL=https://api.novu.loc
# NEXT_PUBLIC_NOVU_API_URL=https://api.novu.loc
# NEXT_PUBLIC_NOVU_SOCKET_URL=wss://ws.novu.loc

# Site URL (used for auth emails, links, etc.)
# For local dev: https://{agent}.loc (e.g., https://mark.loc)
# SITE_URL=https://mark.loc

# Convex Site URL (HTTP actions, used by auth for send-auth-email)
# For local dev: https://{agent}.convex.site.loc
# CONVEX_SITE_URL=https://mark.convex.site.loc

# Mailpit API URL (local email testing)
# For local dev: https://{agent}.mailpit.loc/api/v1
# Leave unset for hosted environments (uses Resend API)
# MAILPIT_API_URL=https://mark.mailpit.loc/api/v1

# =============================================================================
# TLS CERTIFICATES (for HTTPS testing with mkcert)
# =============================================================================
# Required for Playwright tests to trust local mkcert CA certificates.
# Without this, HTTPS requests to *.loc domains will fail with certificate errors.
# Find your mkcert CA root path with: mkcert -CAROOT
# NODE_EXTRA_CA_CERTS=/home/YOUR_USERNAME/.local/share/mkcert/rootCA.pem
